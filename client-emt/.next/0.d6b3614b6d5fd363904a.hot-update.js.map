{"version":3,"file":"0.d6b3614b6d5fd363904a.hot-update.js","sources":["webpack:///components/navigationLayout.js"],"sourcesContent":["import { Layout, Menu, Icon, Dropdown, message } from \"antd\";\nimport { withRouter } from \"next/router\";\nimport { Query } from \"react-apollo\";\nimport Link from \"next/link\";\nconst { Sider, Content } = Layout;\nimport { getCurrentUser as GET_CURRENT_USER_QUERY } from \"../graphql/queries.gql\";\nimport TopHeader from \"./topHeader\";\n\nclass NavigationLayout extends React.Component {\n  state = {\n    collapsed: false\n  };\n  onCollapse = collapsed => {\n    console.log(collapsed);\n    this.setState({ collapsed });\n  };\n\n  render() {\n    let currentPage = this.props.router.pathname;\n    currentPage =\n      currentPage.includes(\"project\") || currentPage === \"/\"\n        ? \"projects\"\n        : currentPage.replace(\"/\", \"\");\n    return (\n      <Layout id=\"navigation-layout\">\n        <Query query={GET_CURRENT_USER_QUERY}>\n          {({ loading, error, data }) => {\n            if (loading) return \"Loading...\";\n            if (error) return `Error! ${error.message}`;\n            const currentUserSync = data.currentUser;\n            return (\n              <Sider\n                collapsible\n                collapsed={true}\n                style={{ paddingTop: 0, height: \"100vh\", position: \"fixed\" }}\n              >\n                <Menu mode=\"inline\" theme=\"dark\" selectedKeys={[currentPage]}>\n                  <Menu.Item key=\"projects\" style={{ marginTop: 0 }}>\n                    <Link prefetch href=\"/\">\n                      <a>\n                        <Icon type=\"folder-open\" />\n                        <span>Projects</span>\n                      </a>\n                    </Link>\n                  </Menu.Item>\n                  {currentUserSync.role === \"root_admin\" && (\n                    <Menu.Item key=\"users\">\n                      <Link prefetch href=\"/users\">\n                        <a>\n                          <Icon type=\"team\" />\n                          <span>Users</span>\n                        </a>\n                      </Link>\n                    </Menu.Item>\n                  )}\n                </Menu>\n              </Sider>\n            );\n          }}\n        </Query>\n        <Layout>\n          <TopHeader />\n\n          <Content\n            style={{\n              margin: \"24px 16px 16px 100px\",\n              padding: 24,\n              background: \"#fff\",\n              height: \"100%\"\n            }}\n          >\n            {this.props.children}\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nexport default withRouter(NavigationLayout);\n\n\n\n// WEBPACK FOOTER //\n// components/navigationLayout.js"],"mappings":";;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAOA;;;;;A","sourceRoot":""}