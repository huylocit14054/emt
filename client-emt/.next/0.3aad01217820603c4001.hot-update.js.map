{"version":3,"file":"0.3aad01217820603c4001.hot-update.js","sources":["webpack:///components/topHeader.js"],"sourcesContent":["import { Layout, Menu, Icon, Dropdown, Avatar } from 'antd';\nimport { withApollo, Query } from 'react-apollo';\nimport Link from 'next/link';\nimport cookie from 'cookie';\nimport redirect from '../lib/redirect';\nimport stylesheet from 'styles/topHeader.less';\nimport { getCurrentUserOnClient as GET_CURRENT_USER_QUERY } from '../graphql/queries.gql';\n\nconst { Header } = Layout;\n\nclass TopHeader extends React.Component {\n  signout = () => {\n    document.cookie = cookie.serialize('token', '', {\n      maxAge: -1, // Expire the cookie immediately\n    });\n    window.location.replace('/login');\n  };\n\n  render() {\n    const menu = (\n      <Menu className=\"menu-dropdown\">\n        <Menu.Item key=\"profile\">\n          <Link prefetch as=\"/me/profile\" href=\"/profile\">\n            <a>\n              <Icon type=\"profile\" /> Profile\n            </a>\n          </Link>\n        </Menu.Item>\n        <Menu.Item key=\"logout\">\n          <a onClick={this.signout}>\n            <Icon type=\"logout\" /> Sign out\n          </a>\n        </Menu.Item>\n      </Menu>\n    );\n\n    return (\n      <Query query={GET_CURRENT_USER_QUERY}>\n        {({ loading, error, data }) => {\n          if (loading) return 'Loading...';\n          if (error) return `Error! ${error.message}`;\n          const currentUserSync = data.currentUser;\n          return (\n            <Header\n              style={{\n                backgroundColor: 'white',\n                padding: 0,\n              }}\n              className=\"topHeader\"\n            >\n              <style dangerouslySetInnerHTML={{ __html: stylesheet }} />\n              <Dropdown overlay={menu}>\n                <div className=\"ant-dropdown-link user-dropdown\" href=\"#\">\n                  <Avatar src=\"https://i1.wp.com/www.winhelponline.com/blog/wp-content/uploads/2017/12/user.png?fit=256%2C256&quality=100\" />\n                </div>\n              </Dropdown>\n              <div>\n                <Link prefetch href=\"/\">\n                  <a>\n                    <img\n                      src=\"http://sv1.upsieutoc.com/2018/06/14/company_logo.jpg\"\n                      className=\"company-logo\"\n                    />\n                  </a>\n                </Link>\n              </div>\n            </Header>\n          );\n        }}\n      </Query>\n    );\n  }\n}\n\nexport default withApollo(TopHeader);\n\n\n\n// WEBPACK FOOTER //\n// components/topHeader.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA7DA;AAgEA;;;;;A","sourceRoot":""}