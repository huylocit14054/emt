{"version":3,"file":"0.9f2336b5cd916b698289.hot-update.js","sources":["webpack:///components/navigationLayout.js"],"sourcesContent":["import { Layout, Menu, Icon, Dropdown, message } from 'antd';\nimport { withRouter } from 'next/router';\nimport { ApolloConsumer } from 'react-apollo';\nimport Link from 'next/link';\nimport { getCurrentUser as GET_CURRENT_USER_QUERY } from '../graphql/queries.gql';\nimport TopHeader from './topHeader';\n\nconst { Sider, Content } = Layout;\n\nclass NavigationLayout extends React.Component {\n  state = {\n    collapsed: false,\n  };\n  onCollapse = collapsed => {\n    console.log(collapsed);\n    this.setState({ collapsed });\n  };\n\n  render() {\n    let currentPage = this.props.router.pathname;\n    currentPage =\n      currentPage.includes('project') || currentPage === '/'\n        ? 'projects'\n        : currentPage.replace('/', '');\n    return (\n      <Layout id=\"navigation-layout\">\n        <ApolloConsumer>\n          {client => {\n            const data = client.readQuery({\n              query: GET_CURRENT_USER_QUERY,\n            });\n            const currentUserSync = data.currentUser;\n            return (\n              <Sider\n                collapsed={false}\n                style={{ paddingTop: 0, height: '100vh', position: 'fixed' }}\n              >\n                <Menu mode=\"inline\" theme=\"dark\" selectedKeys={[currentPage]}>\n                  <Menu.Item key=\"projects\" style={{ marginTop: 0 }}>\n                    <Link prefetch href=\"/\">\n                      <a>\n                        <Icon type=\"folder-open\" />\n                        <span>Projects</span>\n                      </a>\n                    </Link>\n                  </Menu.Item>\n                  {currentUserSync.role === 'root_admin' && (\n                    <Menu.Item key=\"users\">\n                      <Link prefetch href=\"/users\">\n                        <a>\n                          <Icon type=\"team\" />\n                          <span>Users</span>\n                        </a>\n                      </Link>\n                    </Menu.Item>\n                  )}\n                </Menu>\n              </Sider>\n            );\n          }}\n        </ApolloConsumer>\n        <Layout style={{ marginLeft: this.state.collapsed ? 0 : 120 }}>\n          <TopHeader />\n\n          <Content\n            style={{\n              margin: '15px 16px 16px 100px',\n              padding: 24,\n              background: '#fff',\n              minHeight: '100vh',\n            }}\n          >\n            {this.props.children}\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nexport default withRouter(NavigationLayout);\n\n\n\n// WEBPACK FOOTER //\n// components/navigationLayout.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AApEA;AAuEA;;;;;A","sourceRoot":""}